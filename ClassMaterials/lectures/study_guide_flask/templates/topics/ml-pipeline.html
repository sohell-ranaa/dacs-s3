{% extends "base.html" %}

{% block title %}Topic 3: Machine Learning Pipeline - DACS Study Guide{% endblock %}

{% block nav_links %}
<a href="{{ url_for('topic', slug='statistics') }}">Prev</a>
<a href="{{ url_for('topic', slug='preprocessing') }}">Next</a>
{% endblock %}

{% block content %}
<div class="breadcrumb">
    <a href="{{ url_for('index') }}">Home</a> &gt; <span>Topic 3: Machine Learning Pipeline</span>
</div>

<div class="hero" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
    <h1>Topic 3: Machine Learning Pipeline</h1>
    <p>The complete workflow from problem definition to model validation</p>
</div>

<div class="section" id="overview">
    <h2>Pipeline Overview</h2>

    <div class="key-concept">
        <h4>What is the ML Pipeline?</h4>
        <p>Machine learning (ML) pipeline consists of several steps to train a model. It is <strong>iterative</strong> - steps are repeated to continuously improve the accuracy of the model.</p>
    </div>

    <div class="diagram">
        <svg width="800" height="150" viewBox="0 0 800 150">
            <rect x="20" y="50" width="100" height="50" rx="8" fill="#2563eb"/>
            <text x="70" y="80" text-anchor="middle" fill="white" font-weight="bold" font-size="10">1. Problem</text>

            <path d="M125 75 L140 75" stroke="#64748b" stroke-width="2"/>

            <rect x="145" y="50" width="100" height="50" rx="8" fill="#3b82f6"/>
            <text x="195" y="80" text-anchor="middle" fill="white" font-weight="bold" font-size="10">2. Data</text>

            <path d="M250 75 L265 75" stroke="#64748b" stroke-width="2"/>

            <rect x="270" y="50" width="100" height="50" rx="8" fill="#10b981"/>
            <text x="320" y="80" text-anchor="middle" fill="white" font-weight="bold" font-size="10">3. Features</text>

            <path d="M375 75 L390 75" stroke="#64748b" stroke-width="2"/>

            <rect x="395" y="50" width="100" height="50" rx="8" fill="#f59e0b"/>
            <text x="445" y="80" text-anchor="middle" fill="white" font-weight="bold" font-size="10">4. Prep</text>

            <path d="M500 75 L515 75" stroke="#64748b" stroke-width="2"/>

            <rect x="520" y="50" width="100" height="50" rx="8" fill="#8b5cf6"/>
            <text x="570" y="80" text-anchor="middle" fill="white" font-weight="bold" font-size="10">5. Algorithm</text>

            <path d="M625 75 L640 75" stroke="#64748b" stroke-width="2"/>

            <rect x="645" y="50" width="100" height="50" rx="8" fill="#ef4444"/>
            <text x="695" y="80" text-anchor="middle" fill="white" font-weight="bold" font-size="10">6. Evaluate</text>
        </svg>
        <p class="diagram-caption">Machine Learning Pipeline Steps</p>
    </div>
</div>

<div class="section" id="steps">
    <h2>Pipeline Steps</h2>

    <table>
        <thead>
            <tr><th>Step</th><th>Goal</th><th>Outcome</th></tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>1. Problem Definition</strong></td>
                <td>Decide what information is needed</td>
                <td>Project specification</td>
            </tr>
            <tr>
                <td><strong>2. Data Collection</strong></td>
                <td>Gather representative sample</td>
                <td>Large dataset</td>
            </tr>
            <tr>
                <td><strong>3. Feature Extraction</strong></td>
                <td>Select useful features (EDA)</td>
                <td>Flat dataset with selected features</td>
            </tr>
            <tr>
                <td><strong>4. Data Preparation</strong></td>
                <td>Clean and normalize data</td>
                <td>Numeric data ready for modeling</td>
            </tr>
            <tr>
                <td><strong>5. Algorithm Selection</strong></td>
                <td>Experiment with multiple algorithms</td>
                <td>Set of candidate algorithms</td>
            </tr>
            <tr>
                <td><strong>6. Performance Evaluation</strong></td>
                <td>Test and compare algorithms</td>
                <td>Confusion matrix, metrics</td>
            </tr>
            <tr>
                <td><strong>7. Model Validation</strong></td>
                <td>Cross-validation, hyperparameter tuning</td>
                <td>Optimized final model</td>
            </tr>
        </tbody>
    </table>

    <div class="warning-box">
        <h4>GIGO Principle</h4>
        <p><em>"Garbage In, Garbage Out"</em> - If we use unclean data for machine learning, the result will not be satisfying for our end application.</p>
    </div>
</div>

<div class="section" id="terminology">
    <h2>Essential ML Terminology</h2>
    <table>
        <thead>
            <tr><th>Term</th><th>Definition</th></tr>
        </thead>
        <tbody>
            <tr><td><strong>Dataset</strong></td><td>Sample of observations organized into rows and columns</td></tr>
            <tr><td><strong>Feature</strong></td><td>A column (predictor, variable, attribute)</td></tr>
            <tr><td><strong>Training Example</strong></td><td>A row (observation, record, instance)</td></tr>
            <tr><td><strong>Target</strong></td><td>What we predict (label, ground truth)</td></tr>
            <tr><td><strong>Model</strong></td><td>Function y = f(x) representing the relationship</td></tr>
            <tr><td><strong>Loss Function</strong></td><td>Measures error for single training example</td></tr>
            <tr><td><strong>Cost Function</strong></td><td>Average loss over entire dataset</td></tr>
            <tr><td><strong>Model Parameters</strong></td><td>Learned from data (e.g., weights)</td></tr>
            <tr><td><strong>Hyperparameters</strong></td><td>Set by programmer (e.g., learning rate)</td></tr>
        </tbody>
    </table>
</div>

<div class="section" id="quiz">
    <h2>Self-Test Quiz</h2>
    <form class="quiz-form">
        <div class="quiz-question" data-answer="b">
            <h4>1. What is the output of the Data Preparation step?</h4>
            <div class="quiz-options">
                <label><input type="radio" name="q1" value="a"> Raw data from databases</label>
                <label><input type="radio" name="q1" value="b"> Normalized data in numeric form</label>
                <label><input type="radio" name="q1" value="c"> Selected features</label>
                <label><input type="radio" name="q1" value="d"> Trained model</label>
            </div>
        </div>

        <div class="quiz-question" data-answer="c">
            <h4>2. "No a-priori best algorithm" means:</h4>
            <div class="quiz-options">
                <label><input type="radio" name="q2" value="a"> Random Forest is always best</label>
                <label><input type="radio" name="q2" value="b"> Only use neural networks</label>
                <label><input type="radio" name="q2" value="c"> Must experiment to find the best algorithm</label>
                <label><input type="radio" name="q2" value="d"> Skip algorithm selection</label>
            </div>
        </div>

        <div class="quiz-question" data-answer="a">
            <h4>3. The ML pipeline is iterative because:</h4>
            <div class="quiz-options">
                <label><input type="radio" name="q3" value="a"> Steps are repeated to improve accuracy</label>
                <label><input type="radio" name="q3" value="b"> It only runs once</label>
                <label><input type="radio" name="q3" value="c"> Data collection is repeated daily</label>
                <label><input type="radio" name="q3" value="d"> Algorithms never change</label>
            </div>
        </div>

        <button type="submit" class="btn">Check Answers</button>
    </form>
</div>

<div style="display: flex; justify-content: space-between; margin-top: 2rem;">
    <a href="{{ url_for('topic', slug='statistics') }}" class="btn">Previous: Statistics</a>
    <a href="{{ url_for('topic', slug='preprocessing') }}" class="btn">Next: Data Preprocessing</a>
</div>
{% endblock %}
